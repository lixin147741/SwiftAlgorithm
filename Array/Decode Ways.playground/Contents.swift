//: Playground - noun: a place where people can play

import UIKit

/// Author: Kee
///
/// 思路：DP
class Solution {
    func numDecodings(_ s: String) -> Int {
        
        let length = s.characters.count
        
        if length == 0 {
            return 0
        }
        
        var result = [Int](repeating: 0, count:length + 1)
        result[length] = 1
        
        for (index, c) in s.characters.reversed().enumerated() {
            let i = length - index - 1
            if i == length - 1 {
                result[i] = c == "0" ? 0 : 1
                continue
            }
            if c == "0" {
                continue
            } else {
                let range = Range(uncheckedBounds: (lower: s.index(s.startIndex, offsetBy: i), upper: s.index(s.startIndex, offsetBy: i+2)))
                result[i] = Int(s.substring(with: range))! <= 26 ? result[i+1]+result[i+2] : result[i+1]
            }
        }
        
        return result[0]
    }
}

let s = Solution()
s.numDecodings("")
s.numDecodings("12")
s.numDecodings("0")
s.numDecodings("10")
s.numDecodings("27")
s.numDecodings("012")
s.numDecodings("1010101010101010101010101010101010101010")
s.numDecodings("101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010")
